### 1.什么是索引

索引是为了加速对表行数据检索速度而创建的一种分散存储的数据结构

### 2.索引有什么作用？

索引能够极大减少存储引擎需要扫描的数据量

索引可以把随机IO变成顺序IO

索引可以帮助我们在进行分组排序操作时，避免使用临时表

### 3.索引类型

为什么不用二叉树 --->极端情况二叉树退化成链表，依旧是全表扫描，没有性能提升
为什么不是平和二叉树（最大深度差不超过1） ----> 太深（高度），每个磁盘块存储的数据太少（太小）

B-Tree数（balance Tree）多路平衡查找树 
绝对的平衡（深度差为0）n路查找树
一个节点最多保存n-1个数据，n个子分支  区间查找 路数越多，高度越低

B+Tree b树的变种

B+树特点：
闭合区间；
只有叶子节点存数据；
有序；
一个节点n个数据n个分支


相比B树有:
扫库能力比b树更强
磁盘读写能力更强
排序能力更强
B+树查询效率更稳定


### 4.在mysql（innodb）中的体现

默认是B+Tree

聚集索引：数据库表行中数据的物理顺序与键值的逻辑（索引）顺序相同

Innodb 非主键索引（辅助索引）存的是主键索引的引用，也称为second索引。更新操作时只需要维护一个主键索引就行。

### 5.索引一些注意点

索引列的数据长度越短越好 ---->内存限制问题（mysql默认一页16KB）；
索引不是越多越好 ---->索引也占物理空间，不要建太多，如果几个字段经常一起出现，建立聚簇索引；
匹配搜索like 999%可以用到索引，%999%用不到  ---->匹配模式；
where条件中not in 和 <> 操作无法使用索引；
匹配范围值，order by，group by都可以使用到索引；
多用指定列查询，不要select* ---->如果查询的列可以通过索引节点中的关键字直接返回，则称该索引为覆盖索引，
可以减少数据库IO操作，将随机IO变成顺序IO；
索引列上不能使用表达式和函数；
对于过长的字符串可以创建前缀索引；（前缀的选择最好有离散型）

### 6.主键和唯一索引不重复，其他都可能重复
